<app-layout>
	<h1 class="text-2xl font-bold mb-6">Moje wydarzenia</h1>

	@if (loading()) {
		<div class="flex justify-center py-12">
			<p-progress-spinner strokeWidth="4"></p-progress-spinner>
		</div>
	} @else if (jobs().length === 0) {
		<div class="text-center py-12 text-gray-500">
			<p>Nie masz przypisanych wydarze≈Ñ</p>
		</div>
	} @else {
		<ul class="flex flex-col gap-4">
			@for (job of jobs(); track job.id) {
				<li class="p-4 bg-surface-50 dark:bg-surface-800 rounded-lg border border-surface-200 dark:border-surface-700">
					<div class="flex justify-between items-start">
						<h2 class="text-lg font-semibold mb-2">{{ job.title }}</h2>
						@if (canEdit()) {
							<p-button icon="pi pi-pencil" [rounded]="true" [text]="true"
								severity="secondary" (onClick)="editJob(job.id)"
								pTooltip="Edytuj" tooltipPosition="top" />
						}
					</div>
					<div class="flex flex-col gap-1 text-sm text-surface-600 dark:text-surface-400">
						<p>
							<span class="font-medium">Termin:</span>
							{{ job.start_date | date:'d MMM yyyy' }} - {{ job.end_date | date:'d MMM yyyy' }}
						</p>
						<p>
							<span class="font-medium">Miejsce:</span>
							{{ job.location }}
						</p>
					</div>
				</li>
			}
		</ul>
	}
</app-layout>
