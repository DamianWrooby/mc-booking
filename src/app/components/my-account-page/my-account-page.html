<app-layout>
	<h1 class="text-2xl font-bold mb-6">Moje konto</h1>

	<div class="w-full max-w-md flex flex-col gap-6">
		<div class="flex flex-col gap-4 p-4 bg-surface-50 dark:bg-surface-800 rounded-lg border border-surface-200 dark:border-surface-700">
			<h2 class="text-lg font-semibold">Informacje o koncie</h2>

			<div class="flex flex-col gap-1">
				<span class="text-sm text-surface-500 dark:text-surface-400">Email</span>
				<span class="font-medium">{{ email() }}</span>
			</div>

			<div class="flex flex-col gap-1">
				<span class="text-sm text-surface-500 dark:text-surface-400">Rola</span>
				<span class="font-medium">{{ role() }}</span>
			</div>
		</div>

		<div class="flex flex-col gap-4 p-4 bg-surface-50 dark:bg-surface-800 rounded-lg border border-surface-200 dark:border-surface-700">
			<h2 class="text-lg font-semibold">Edytuj profil</h2>

			<div class="flex flex-col gap-2">
				<label for="username" class="text-sm text-surface-500 dark:text-surface-400">
					Nazwa użytkownika
				</label>
				<input
					pInputText
					id="username"
					[ngModel]="username()"
					(ngModelChange)="username.set($event)"
					class="w-full"
				/>
				@if (username().trim().length > 0 && username().trim().length < 3) {
					<p-message severity="error" text="Nazwa użytkownika musi mieć co najmniej 3 znaki"></p-message>
				}
			</div>

			<p-button
				label="Zapisz zmiany"
				[loading]="loading()"
				[disabled]="!canSubmit()"
				(onClick)="submit()"
			/>
		</div>
	</div>
</app-layout>
